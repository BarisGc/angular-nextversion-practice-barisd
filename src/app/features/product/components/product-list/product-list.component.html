<table mat-table [dataSource]="products" class="mat-elevation-z8 demo-table">
  @for (column of columns; track column) {
  <ng-container [matColumnDef]="column.columnDef">
    <th mat-header-cell *matHeaderCellDef>
      {{ column.header }}
    </th>

    @if(column.columnDef === 'id') {
    <td mat-cell *matCellDef="let product">
      {{ 'Total' }}
    </td>
    <td mat-footer-cell *matFooterCellDef>{{ column.columnDef }}</td>

    } @else if(column.columnDef === 'stock') {
    <td mat-cell *matCellDef="let product">
      {{ column.cell(product) }}
    </td>
    <td mat-footer-cell *matFooterCellDef>{{ getTotalStock() }}</td>

    } @else if (column.columnDef==='thumbnail'){
    <td mat-cell *matCellDef="let product">
      <img
        mat-card-sm-image
        [alt]="'thumbnail'"
        [ngSrc]="product.thumbnail"
        width="150"
        height="100"
        priority
      />
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
    } @else {
    <td mat-cell *matCellDef="let product">
      {{ column.cell(product) }}
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
    }
    <!-- @if (column.columnDef === 'id') {
    <td mat-footer-cell *matFooterCellDef>2</td>
    } @else if (column.columnDef==='stock') {
    <td mat-footer-cell *matFooterCellDef>{{ getTotalCost() | currency }}</td>
    } @else if (column.columnDef==='thumbnail'){
    <img
      mat-card-sm-image
      [alt]="'thumbnail'"
      [ngSrc]="'asd'"
      width="200"
      height="100"
      priority
    />
    } @else {
    <td mat-footer-cell *matFooterCellDef>Total</td>

    } -->
  </ng-container>
  }

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>
